<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Secure Library Dashboard</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">
</head>

<body class="bg-dashboard">

<nav class="navbar navbar-light px-4">
    <span class="navbar-brand fw-bold">Secure Library System</span>
    <div class="d-flex align-items-center gap-3">
        <span class="text-muted">
            Role: <b th:text="${role}">ROLE</b>
        </span>
        <a href="/auth/logout" class="btn btn-outline-secondary btn-sm">Logout</a>
    </div>
</nav>

<div class="container mt-4 page-container">

    <div class="row mb-4">
        <h3 class="fw-bold">Welcome to the Dashboard</h3>
        <p class="text-muted">Secure access controlled library management</p>
    </div>

    <!-- Stats Cards -->
    <div class="row g-4">

        <div class="col-md-3">
            <div class="card shadow dashboard-card dashboard-metric">
                <div class="card-body text-center">
                    <h5>Total Books</h5>
                    <h2 class="fw-bold">120</h2>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card shadow dashboard-card dashboard-metric">
                <div class="card-body text-center">
                    <h5>Available Books</h5>
                    <h2 class="fw-bold">75</h2>
                </div>
            </div>
        </div>

        <!-- USERS COUNT  ADMIN ONLY -->
        <div class="col-md-3" th:if="${role == 'ADMIN'}">
            <div class="card shadow dashboard-card dashboard-metric">
                <div class="card-body text-center">
                    <h5>Users</h5>
                    <h2 class="fw-bold">30</h2>
                </div>
            </div>
        </div>

        <!-- TRANSACTIONS COUNT  ADMIN + LIBRARIAN -->
        <div class="col-md-3" th:if="${role == 'ADMIN' or role == 'LIBRARIAN'}">
            <div class="card shadow dashboard-card dashboard-metric">
                <div class="card-body text-center">
                    <h5>Active Transactions</h5>
                    <h2 class="fw-bold">90</h2>
                </div>
            </div>
        </div>

    </div>

    <!-- Core Actions -->
    <div class="row mt-5 g-4">

        <!-- VIEW BOOKS  ALL ROLES -->
        <div class="col-md-4">
            <div class="card action-card">
                <div class="card-body">
                    <h5>Browse Catalog</h5>
                    <p>View all books with availability details</p>
                    <a href="/books" class="btn btn-outline-dark w-100">Open</a>
                </div>
            </div>
        </div>

    </div>

    <!-- Management Actions -->
    <div class="row mt-4 g-4" th:if="${role == 'ADMIN' or role == 'LIBRARIAN'}">
        <div class="col-md-4">
            <div class="card action-card">
                <div class="card-body">
                    <h5>Add Book</h5>
                    <p>Maintain catalog inventory</p>
                    <a href="/books/add" class="btn btn-outline-dark w-100">Add</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card action-card">
                <div class="card-body">
                    <h5>Transactions</h5>
                    <p>Issue and return history</p>
                    <a href="/transactions" class="btn btn-outline-dark w-100">View</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card action-card">
                <div class="card-body">
                    <h5>User Management</h5>
                    <p>Manage member access and roles</p>
                    <a href="/users" class="btn btn-outline-dark w-100">Open</a>
                </div>
            </div>
        </div>
    </div>
	

</div>

</body>
</html>
